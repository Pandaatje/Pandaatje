function waterfall(t){function n(t){return window.getComputedStyle(t)}function e(t,e){return parseFloat(n(e)["margin"+t])||0}function r(t){return t+"px"}function o(t){return parseFloat(t.style.top)}function l(t){return parseFloat(t.style.left)}function u(t){return parseFloat(n(t).width)}function i(t){return t.clientHeight}function f(t){return o(t)+i(t)+e("Bottom",t)}function s(t){return l(t)+u(t)+e("Right",t)}function p(t){t=t.sort(function(t,e){return f(e)-f(t)||l(e)-l(t)})}"string"==typeof t&&(t=document.querySelector(t)),t.style.position="relative";var a=[],c=[].map.call(t.children,function(t){return t.style.position="absolute",t});c.length&&(c[0].style.top="0px",c[0].style.left=r(e("Left",c[0])),a.push(c[0]));for(var y=1;y<c.length;y++){var h=c[y-1],g=c[y];if(!(s(h)+u(g)<=u(t)))break;g.style.top=h.style.top,g.style.left=r(s(h)+e("Left",g)),a.push(g)}for(;y<c.length;y++){p(a);g=c[y];var m=a.pop();g.style.top=r(f(m)+e("Top",g)),g.style.left=r(l(m)),a.push(g)}p(a);var v=a[0];t.style.height=r(f(v)+e("Bottom",v))}